"use strict";(self.webpackChunkAppointent_App=self.webpackChunkAppointent_App||[]).push([[413],{9413:(M,c,i)=>{i.r(c),i.d(c,{AppointmentInfoModule:()=>T});var s=i(6895),m=i(2019),l=i(7818),f=i(5973),p=i(433),u=i(7579),n=i(8256),g=i(2646),d=i(1265);function h(o,r){if(1&o){const t=n.EpF();n.TgZ(0,"button",5),n.NdJ("click",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.ReScheduleAppointment())}),n._uU(1,"Re-schedule"),n.qZA()}}function A(o,r){if(1&o){const t=n.EpF();n.TgZ(0,"div",6)(1,"p",7),n._uU(2,"You can edit the following fields:"),n.qZA(),n.TgZ(3,"form",8)(4,"div",9)(5,"label",10),n._uU(6,"Appointment Time"),n.qZA(),n._UZ(7,"input",11),n.TgZ(8,"div",12)(9,"button",13),n._uU(10,"Cancel"),n.qZA(),n.TgZ(11,"button",14),n.NdJ("click",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.ValidateAppointmentTime())}),n._uU(12,"Save"),n.qZA()()()()()}if(2&o){const t=n.oxw();n.xp6(3),n.Q6J("formGroup",t.Editingform)}}const b=[{path:"",component:(()=>{class o{constructor(t,e,a,I){this.fb=t,this.apmnt=e,this.dp=a,this.router=I,this.TimeslotForEditing=new l.o("","",0,"",null,0),this.AppointmentInfo=new f.u(0,"","","","","","","",0,"",0,0,0),this.LatestBookingTime="21:00",this.ValidAppointment=!1,this.ValidatingTime=!1,this.OnNewError=new u.x,this.EarliestDate=this.dp.transform(new Date,"yyyy-MM-dd"),this.Editingform=this.fb.group({AppointmentTime:["",p.kI.required]})}ngOnInit(){this.ValidatingTime=this.apmnt.isRescheduling,this.apmnt.isRescheduling=!1,this.TimeslotForEditing=this.apmnt.GetCurrentSlot(),this.AppointmentInfo=this.TimeslotForEditing.CurrentAppointment,this.routerSubscription=this.router.events.subscribe(t=>{t instanceof m.OD&&"/AppointmentsTimetable"!==t.url&&"/AppointmentInfo"!==t.url&&(this.apmnt.isRescheduling=!1)})}ReScheduleAppointment(){this.apmnt.isRescheduling=!0,this.apmnt.AppointmentToReSchedule=this.AppointmentInfo,this.router.navigate(["/AppointmentsTimetable"])}ValidateAppointmentTime(){var t=this.dp.transform(this.apmnt.GetNewDateFromTime(this.Editingform.get("AppointmentTime")?.value),"HH:mm");this.ValidAppointment=this.apmnt.IsValidAppointment(this.TimeslotForEditing,this.OnNewError,this.AppointmentInfo,t),this.ValidAppointment&&this.SaveChanges()}SaveChanges(){this.ValidAppointment&&(this.apmnt.UpdateAppointment(this.AppointmentInfo).subscribe(t=>{console.log(t)},t=>{this.OnNewError.next(t)}),this.apmnt.isRescheduling=!1,this.apmnt.OnAppointmentSelected.next(!1))}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(p.qu),n.Y36(g.H),n.Y36(s.uU),n.Y36(m.F0))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-appointment-info"]],decls:19,vars:9,consts:[[3,"OnNewError"],[1,"appointment-container"],[1,"appointment-details"],["class","toggle-edit-btn",3,"click",4,"ngIf"],["class","edit-form-container",4,"ngIf"],[1,"toggle-edit-btn",3,"click"],[1,"edit-form-container"],[1,"form-instruction"],[1,"edit-form",3,"formGroup"],[1,"form-group"],["for","appointmentTime"],["type","time","id","appointmentTime","name","time","formControlName","AppointmentTime",1,"input-field"],[1,"form-buttons"],["type","button","routerLink","/AppointmentsTimetable",1,"cancel-btn"],[1,"save-btn",3,"click"]],template:function(t,e){1&t&&(n._UZ(0,"app-error-display",0),n.TgZ(1,"div",1)(2,"h1"),n._uU(3),n.qZA(),n.TgZ(4,"div",2)(5,"p")(6,"strong"),n._uU(7,"Duration:"),n.qZA(),n._uU(8),n.qZA(),n.TgZ(9,"p")(10,"strong"),n._uU(11,"Time:"),n.qZA(),n._uU(12),n.qZA(),n.TgZ(13,"p")(14,"strong"),n._uU(15,"Date:"),n.qZA(),n._uU(16),n.qZA()()(),n.YNc(17,h,2,0,"button",3),n.YNc(18,A,13,1,"div",4)),2&t&&(n.Q6J("OnNewError",e.OnNewError),n.xp6(3),n.lnq("",e.AppointmentInfo.AppointmentName," Appointment for ",e.AppointmentInfo.ClientFirstName," ",e.AppointmentInfo.ClientLastName,""),n.xp6(5),n.hij(" ",e.AppointmentInfo.AppointmentDurationInMinutes," minutes"),n.xp6(4),n.hij(" ",e.AppointmentInfo.AppointmentTime,""),n.xp6(4),n.hij(" ",e.AppointmentInfo.AppointmentDate,""),n.xp6(1),n.Q6J("ngIf",!e.ValidatingTime),n.xp6(1),n.Q6J("ngIf",e.ValidatingTime))},dependencies:[s.O5,m.rH,p._Y,p.Fj,p.JJ,p.JL,p.sg,p.u,d.n],styles:[".appointment-container[_ngcontent-%COMP%]{padding:1.5rem;border-radius:12px;background-color:#f3e8ff;margin-bottom:1.5rem;box-shadow:0 4px 8px #9b59b633}.appointment-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem;color:#6a0dad;text-align:center}.appointment-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;font-size:1.1rem;color:indigo}.toggle-edit-btn[_ngcontent-%COMP%]{margin:1rem 0;padding:.7rem 1.5rem;background-color:#a566ff;color:#fff;border:none;border-radius:8px;font-size:1rem;cursor:pointer;transition:background-color .3s ease}.toggle-edit-btn[_ngcontent-%COMP%]:hover{background-color:#8a2be2}.edit-form-container[_ngcontent-%COMP%]{padding:1.5rem;background-color:#fef9ff;border:1px solid #d9b3ff;border-radius:12px}.form-instruction[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:1rem;color:#6a0dad}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.input-field[_ngcontent-%COMP%]{padding:.7rem;font-size:1rem;border:1px solid #c8a2c8;border-radius:8px;background-color:#faf5ff}.form-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:2rem}.cancel-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%]{padding:.7rem 1.5rem;font-size:1rem;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s ease}.cancel-btn[_ngcontent-%COMP%]{background-color:#d86ba5;color:#fff}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c94e91}.save-btn[_ngcontent-%COMP%]{background-color:#6a0dad;color:#fff}.save-btn[_ngcontent-%COMP%]:hover{background-color:#5900b3}@media (max-width: 600px){.form-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.cancel-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%], .toggle-edit-btn[_ngcontent-%COMP%]{width:100%}}"]}),o})()}];let C=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[m.Bz.forChild(b),m.Bz]}),o})(),T=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[s.ez,C,p.UX,d.n]}),o})()}}]);