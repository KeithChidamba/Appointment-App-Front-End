"use strict";(self.webpackChunkAppointent_App=self.webpackChunkAppointent_App||[]).push([[603],{4603:(L,s,p)=>{p.r(s),p.d(s,{AppointmentFormModule:()=>Y});var m=p(6895),e=p(433),a=p(2019),d=p(7818),g=p(5973),u=p(7579),n=p(8256),f=p(2646),c=p(1265);function h(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1,"This field is required"),n.qZA())}function A(t,i){if(1&t&&(n.TgZ(0,"div",17),n.YNc(1,h,2,0,"div",18),n.qZA()),2&t){const o=n.oxw();n.xp6(1),n.Q6J("ngIf",null==o.Bookingform.controls.AppointmentTime.errors?null:o.Bookingform.controls.AppointmentTime.errors.required)}}function _(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1,"Invalid email"),n.qZA())}function v(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1,"This field is required"),n.qZA())}function C(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1,"Must be longer than 5 characters"),n.qZA())}function x(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1,"Must be shorter than 30 characters"),n.qZA())}function k(t,i){if(1&t&&(n.TgZ(0,"div",17),n.YNc(1,_,2,0,"div",18),n.YNc(2,v,2,0,"div",18),n.YNc(3,C,2,0,"div",18),n.YNc(4,x,2,0,"div",18),n.qZA()),2&t){const o=n.oxw();n.xp6(1),n.Q6J("ngIf",null==o.Bookingform.controls.ClientEmail.errors?null:o.Bookingform.controls.ClientEmail.errors.email),n.xp6(1),n.Q6J("ngIf",null==o.Bookingform.controls.ClientEmail.errors?null:o.Bookingform.controls.ClientEmail.errors.required),n.xp6(1),n.Q6J("ngIf",null==o.Bookingform.controls.ClientEmail.errors?null:o.Bookingform.controls.ClientEmail.errors.minlength),n.xp6(1),n.Q6J("ngIf",null==o.Bookingform.controls.ClientEmail.errors?null:o.Bookingform.controls.ClientEmail.errors.maxlength)}}function T(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1,"This field is required"),n.qZA())}function Z(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1,"Must be longer than 8 characters"),n.qZA())}function N(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1,"No special characters"),n.qZA())}function F(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1,"Must be shorter than 35 characters"),n.qZA())}function b(t,i){if(1&t&&(n.TgZ(0,"div",17),n.YNc(1,T,2,0,"div",18),n.YNc(2,Z,2,0,"div",18),n.YNc(3,N,2,0,"div",18),n.YNc(4,F,2,0,"div",18),n.qZA()),2&t){const o=n.oxw();n.xp6(1),n.Q6J("ngIf",null==o.Bookingform.controls.ClientFirstName.errors?null:o.Bookingform.controls.ClientFirstName.errors.required),n.xp6(1),n.Q6J("ngIf",null==o.Bookingform.controls.ClientFirstName.errors?null:o.Bookingform.controls.ClientFirstName.errors.minlength),n.xp6(1),n.Q6J("ngIf",null==o.Bookingform.controls.ClientFirstName.errors?null:o.Bookingform.controls.ClientFirstName.errors.pattern),n.xp6(1),n.Q6J("ngIf",null==o.Bookingform.controls.ClientFirstName.errors?null:o.Bookingform.controls.ClientFirstName.errors.maxlength)}}function I(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1,"This field is required"),n.qZA())}function B(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1,"Must be longer than 8 characters"),n.qZA())}function q(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1,"No special characters"),n.qZA())}function M(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1,"Must be shorter than 35 characters"),n.qZA())}function O(t,i){if(1&t&&(n.TgZ(0,"div",17),n.YNc(1,I,2,0,"div",18),n.YNc(2,B,2,0,"div",18),n.YNc(3,q,2,0,"div",18),n.YNc(4,M,2,0,"div",18),n.qZA()),2&t){const o=n.oxw();n.xp6(1),n.Q6J("ngIf",null==o.Bookingform.controls.ClientLastName.errors?null:o.Bookingform.controls.ClientLastName.errors.required),n.xp6(1),n.Q6J("ngIf",null==o.Bookingform.controls.ClientLastName.errors?null:o.Bookingform.controls.ClientLastName.errors.minlength),n.xp6(1),n.Q6J("ngIf",null==o.Bookingform.controls.ClientLastName.errors?null:o.Bookingform.controls.ClientLastName.errors.pattern),n.xp6(1),n.Q6J("ngIf",null==o.Bookingform.controls.ClientLastName.errors?null:o.Bookingform.controls.ClientLastName.errors.maxlength)}}function P(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1,"This field is required"),n.qZA())}function y(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1,"Must be at least than 10 digits and No special characters"),n.qZA())}function U(t,i){if(1&t&&(n.TgZ(0,"div",17),n.YNc(1,P,2,0,"div",18),n.YNc(2,y,2,0,"div",18),n.qZA()),2&t){const o=n.oxw();n.xp6(1),n.Q6J("ngIf",null==o.Bookingform.controls.ClientPhone.errors?null:o.Bookingform.controls.ClientPhone.errors.required),n.xp6(1),n.Q6J("ngIf",null==o.Bookingform.controls.ClientPhone.errors?null:o.Bookingform.controls.ClientPhone.errors.pattern)}}function J(t,i){if(1&t&&(n.TgZ(0,"option",19),n._uU(1),n.qZA()),2&t){const o=i.$implicit;n.Q6J("value",o.AppointmentName),n.xp6(1),n.AsE("",o.AppointmentName," (",o.AppointmentDurationInMinutes," min)")}}const E=[{path:"",component:(()=>{class t{constructor(o,r,l){this.fb=o,this.apmnt=r,this.dp=l,this.BlankSlotForBooking=new d.o("","",0,"",null,0),this.AppointmentInfo=new g.u(0,"","","","","","","",0,"",0,0,0),this.ValidAppointment=!1,this.LatestBookingTime="21:00",this.checkingValidity=!1,this.OnNewError=new u.x,this.EarliestDate=this.dp.transform(new Date,"yyyy-MM-dd"),this.Bookingform=this.fb.group({ClientEmail:["",e.kI.compose([e.kI.minLength(5),e.kI.maxLength(30),e.kI.required,e.kI.email])],ClientPhone:["",e.kI.compose([e.kI.required,e.kI.pattern("^[0-9]{10}$")])],ClientFirstName:["",e.kI.compose([e.kI.minLength(4),e.kI.maxLength(30),e.kI.required,e.kI.pattern(/^[a-zA-Z0-9]+$/)])],ClientLastName:["",e.kI.compose([e.kI.minLength(4),e.kI.maxLength(30),e.kI.required,e.kI.pattern(/^[a-zA-Z0-9]+$/)])],AppointmentTime:["",e.kI.compose([e.kI.required])]})}ngOnInit(){this.BlankSlotForBooking=this.apmnt.GetCurrentSlot()}SetAppointmentType(o){this.checkingValidity=!0,this.AppointmentInfo.AppointmentName=o.target.value,this.AppointmentInfo.AppointmentDate=this.BlankSlotForBooking.dateOfSlot;var r=this.apmnt.AvailableAppointments[this.apmnt.AvailableAppointments.findIndex(l=>l.AppointmentName===this.AppointmentInfo.AppointmentName)];this.AppointmentInfo.AppointmentPrice=r.AppointmentPrice,this.AppointmentInfo.AppointmentDurationInMinutes=r.AppointmentDurationInMinutes}SaveChanges(){if(this.checkingValidity)if(this.Bookingform.valid){var o=this.dp.transform(this.apmnt.GetNewDateFromTime(this.Bookingform.get("AppointmentTime")?.value),"HH:mm");this.ValidAppointment=this.apmnt.IsValidAppointment(this.BlankSlotForBooking,this.OnNewError,this.AppointmentInfo,o),this.Bookingform.valid&&this.ValidAppointment&&(this.AppointmentInfo.isConfirmed=0,this.AppointmentInfo.ClientFirstName=this.Bookingform.get("ClientFirstName")?.value,this.AppointmentInfo.ClientLastName=this.Bookingform.get("ClientLastName")?.value,this.AppointmentInfo.ClientEmail=this.Bookingform.get("ClientEmail")?.value,this.AppointmentInfo.ClientPhone=this.Bookingform.get("ClientPhone")?.value,this.apmnt.CreateAppointment(this.AppointmentInfo).subscribe(r=>{console.log(r)},r=>{this.OnNewError.next(r)}),this.apmnt.OnBlankSlotSelected.next(!1))}else this.OnNewError.next("Please corrrect your details");else this.OnNewError.next("The please select a valid appointment")}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(e.qu),n.Y36(f.H),n.Y36(m.uU))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-appointment-form"]],decls:48,vars:12,consts:[[3,"OnNewError"],[1,"form-wrapper"],[1,"info-text"],[1,"booking-form",3,"formGroup"],[1,"form-group"],["type","time","formControlName","AppointmentTime","required","",1,"InputField",3,"min","max"],["class","alert",4,"ngIf"],["type","text","placeholder","Enter Email","formControlName","ClientEmail","required","",1,"InputField"],["type","text","placeholder","Enter First Name","formControlName","ClientFirstName","required","",1,"InputField"],["type","text","placeholder","Enter Last Name","formControlName","ClientLastName","required","",1,"InputField"],["type","text","placeholder","Enter Phone Number","formControlName","ClientPhone","required","",1,"InputField"],[3,"change"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-buttons"],["type","button","routerLink","/AppointmentsTimetable",1,"cancelbtn"],[1,"signupbtn",3,"click"],[1,"alert"],[4,"ngIf"],[3,"value"]],template:function(o,r){1&o&&(n._UZ(0,"app-error-display",0),n.TgZ(1,"div",1)(2,"span",2),n._uU(3,"Please fill out your details"),n.qZA(),n.TgZ(4,"span",2),n._uU(5),n.qZA(),n.TgZ(6,"form",3)(7,"div",4)(8,"label"),n._uU(9,"Appointment Time"),n.qZA(),n._UZ(10,"input",5),n.YNc(11,A,2,1,"div",6),n.qZA(),n.TgZ(12,"div",4)(13,"label")(14,"b"),n._uU(15,"Client Email"),n.qZA()(),n._UZ(16,"input",7),n.YNc(17,k,5,4,"div",6),n.qZA(),n.TgZ(18,"div",4)(19,"label")(20,"b"),n._uU(21,"First Name"),n.qZA()(),n._UZ(22,"input",8),n.YNc(23,b,5,4,"div",6),n.qZA(),n.TgZ(24,"div",4)(25,"label")(26,"b"),n._uU(27,"Last Name"),n.qZA()(),n._UZ(28,"input",9),n.YNc(29,O,5,4,"div",6),n.qZA(),n.TgZ(30,"div",4)(31,"label")(32,"b"),n._uU(33,"Phone"),n.qZA()(),n._UZ(34,"input",10),n.YNc(35,U,3,2,"div",6),n.qZA(),n.TgZ(36,"div",4)(37,"label"),n._uU(38,"Appointment"),n.qZA(),n.TgZ(39,"select",11),n.NdJ("change",function(w){return r.SetAppointmentType(w)}),n.TgZ(40,"option",12),n._uU(41,"-- Select --"),n.qZA(),n.YNc(42,J,2,3,"option",13),n.qZA()(),n.TgZ(43,"div",14)(44,"button",15),n._uU(45,"Cancel"),n.qZA(),n.TgZ(46,"button",16),n.NdJ("click",function(){return r.SaveChanges()}),n._uU(47,"Save"),n.qZA()()()()),2&o&&(n.Q6J("OnNewError",r.OnNewError),n.xp6(5),n.AsE("Time slot: ",r.BlankSlotForBooking.StartTime," -> ",r.BlankSlotForBooking.EndTime,""),n.xp6(1),n.Q6J("formGroup",r.Bookingform),n.xp6(4),n.Q6J("min",r.BlankSlotForBooking.StartTime)("max",r.LatestBookingTime),n.xp6(1),n.Q6J("ngIf",r.checkingValidity),n.xp6(6),n.Q6J("ngIf",r.checkingValidity),n.xp6(6),n.Q6J("ngIf",r.checkingValidity),n.xp6(6),n.Q6J("ngIf",r.checkingValidity),n.xp6(6),n.Q6J("ngIf",r.checkingValidity),n.xp6(7),n.Q6J("ngForOf",r.apmnt.AvailableAppointments))},dependencies:[m.sg,m.O5,a.rH,e._Y,e.YN,e.Kr,e.Fj,e.JJ,e.JL,e.Q7,e.sg,e.u,c.n],styles:[".form-wrapper[_ngcontent-%COMP%]{max-width:600px;margin:30px auto;background-color:#fbeaea;border:1px solid #e8c7c8;border-radius:10px;padding:25px 30px;box-shadow:0 8px 20px #b76e7933;font-family:Segoe UI,sans-serif}.info-text[_ngcontent-%COMP%]{display:block;font-size:1.1em;margin-bottom:20px;color:#4a4a4a}.booking-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:18px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}label[_ngcontent-%COMP%]{margin-bottom:5px;color:#b76e79;font-weight:600}.InputField[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:10px;border:1px solid #e8c7c8;border-radius:6px;font-size:14px;background-color:#fff;transition:border .3s ease}.InputField[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#b76e79;outline:none}.alert[_ngcontent-%COMP%]{color:#b00020;font-size:12px;margin-top:4px}.form-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px}.cancelbtn[_ngcontent-%COMP%], .signupbtn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:8px;font-weight:600;font-size:14px;cursor:pointer;transition:all .3s ease}.cancelbtn[_ngcontent-%COMP%]{background-color:#ffe8e8;color:#b76e79;border:1px solid #b76e79}.signupbtn[_ngcontent-%COMP%]{background-color:#b76e79;color:#fff}.cancelbtn[_ngcontent-%COMP%]:hover{background-color:#fbeaea}.signupbtn[_ngcontent-%COMP%]:hover{background-color:#a35a65}@media (max-width: 768px){.form-wrapper[_ngcontent-%COMP%]{padding:20px;margin:20px}.form-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.cancelbtn[_ngcontent-%COMP%], .signupbtn[_ngcontent-%COMP%]{width:100%}.InputField[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font-size:16px;padding:12px}}@media (max-width: 480px){.form-wrapper[_ngcontent-%COMP%]{padding:15px}.info-text[_ngcontent-%COMP%]{font-size:1em;text-align:center}label[_ngcontent-%COMP%]{font-size:14px}.cancelbtn[_ngcontent-%COMP%], .signupbtn[_ngcontent-%COMP%]{font-size:15px;padding:12px}}"]}),t})()}];let Q=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[a.Bz.forChild(E),a.Bz]}),t})(),Y=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[m.ez,Q,e.UX,c.n]}),t})()}}]);